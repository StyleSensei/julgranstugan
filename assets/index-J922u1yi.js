(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function c(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=c(r);fetch(r.href,s)}})();function w(e,t){e.addEventListener("click",()=>{t.classList.add("--active")})}function z(e,t){e.addEventListener("click",()=>{t.classList.remove("--active")})}function J(){const e=document.getElementById("fullname"),t=document.getElementById("address"),c=document.getElementById("zipcode"),a=document.getElementById("email"),r=document.getElementById("cellPhone");return e.value===""||!R(e.value)?(e.classList.add("is-invalid"),!1):(e.classList.remove("is-invalid"),t.value===""||!F(t.value)?(t.classList.add("is-invalid"),!1):(t.classList.remove("is-invalid"),c.value===""||!V(c.value)?(c.classList.add("is-invalid"),!1):(c.classList.remove("is-invalid"),a.value===""||!U(a.value)?(a.classList.add("is-invalid"),!1):(a.classList.remove("is-invalid"),r.value===""||!x(r.value)?(r.classList.add("is-invalid"),!1):(r.classList.remove("is-invalid"),!0)))))}function R(e){return/^[A-Za-z]+\s[A-Za-z]+$/.test(e)}function F(e){return e.trim().length>=10}function V(e){return/^\d{5}$/.test(e)}function U(e){return/@hotmail\.com$|@gmail\.com$|@yahoo\.com$/.test(e)}function x(e){return/^\d{10}$/.test(e)}const y=()=>{const e={productPage:document.getElementById("wrapper-product-page"),cart:document.getElementById("cart"),checkout:document.getElementById("checkout")};e.cart?.classList.contains("--active")||e.checkout?.classList.contains("--active")||e.productPage?.classList.contains("--active")?(document.body.classList.add("stop-scroll"),console.log("hej")):document.body.classList.remove("stop-scroll")};class _{constructor(t,c,a,r,s,i){this.title=t,this.imageUrl=c,this.size=a,this.price=r,this.info=s,this.id=i,this.quantity=1}quantity}const o=[new _("Rödgran","src/assets/img/resized_images/red_spruce3.webp","230 – 260 cm",499,"Rödgranen, en symbol för julens stämning, är känd för sina stadiga grenar och doftande barr som sprider en friskhet som förtrollar. Med dess frodiga barrverk och praktfulla utseende blir denna gran ett lysande inslag i juldekorationerna. Med rätt underhåll sitter barren kvar länge och ger en varaktig skönhet som fyller hemmet med en känsla av tradition och glädje under helgerna.","001"),new _("Rödgran","src/assets/img/resized_images/red_spruce.webp","180 – 230 cm",350,"Inget fångar julens anda som den klassiska rödgranen. Dess slanka silhuett och intensiva gröna barr skapar en fantastisk atmosfär och sprider en ljuvlig doft i varje vrå. Rödgranen är mer än en dekoration – den är själva hjärtat i julens festligheter och bjuder in till en tid av gemenskap och värme.","002"),new _("Blågran","src/assets/img/resized_images/blue_spruce.webp","180 – 230 cm",699,"Blågranen är en storslagen symbol för vinterns charm och elegans. Med sina mjuka, silverblå barr skapar denna gran en atmosfär av frostig skönhet i varje rum. Dess kompakta och välmående grenverk ger en perfekt plats att hänga julens dekorationer och ljus, medan dess hållbara barr behåller sin färg och form under hela säsongen. Blågranen erbjuder en unik och förtrollande touch till julens firande och blir snabbt hjärtat i ditt hem under denna festliga tid.","003"),new _("Bosnisk tall","src/assets/img/resized_images/bosnian_pine.webp","180 – 230 cm",750,"Bosnisk tall, med sin ståtliga och majestätiska gestalt, är en symbol för vinterens skönhet och styrka. Dess karaktäristiska mörkgröna barr och robusta grenar skapar en imponerande kuliss för julens festligheter. Med en naturlig symmetri och en doft av skogens friskhet blir denna tall en enastående centralpunkt för dekorationer och ljus. Dess hållbara kvalitet och långvariga skönhet gör den till det perfekta valet för att införa en känsla av tradition och elegans i ditt hem under julen.","004"),new _("Rödgran","src/assets/img/resized_images/red_spruce2.webp","100 – 140 cm",250,"Rödgranen är julens symbol av skönhet och elegans. Dess frodiga barrverk skänker inte bara en frisk doft utan också en levande touch till varje hem. Med en rödgran i huset skapas en atmosfär av tradition och fröjd, där varje barrstrå förmedlar känslan av en härlig julstund.","005"),new _("Rödgran","src/assets/img/resized_images/red_spruce_xl.webp","300 – 350 cm",990,"Inget fångar julens anda som den klassiska rödgranen. Dess slanka silhuett och intensiva gröna barr skapar en fantastisk atmosfär och sprider en ljuvlig doft i varje vrå. Rödgranen är mer än en dekoration – den är själva hjärtat i julens festligheter och bjuder in till en tid av gemenskap och värme.","006")],n=JSON.parse(sessionStorage.getItem("cartItems")||JSON.stringify([])),Z=document.getElementById("cta");Z?.addEventListener("click",()=>{document.getElementById("product-list")?.scrollIntoView({behavior:"smooth"})});let u=0;u=JSON.parse(sessionStorage.getItem("totalPrice")||JSON.stringify(0));let I;const K=document.querySelector(".c-card__header"),W=document.querySelector(".c-card__image"),G=document.querySelector(".c-card__body"),Q=document.getElementById("product-page-close-button"),O=document.querySelector("#wrapper-product-page"),X=document.querySelector(".cart__checkout-button"),N=document.querySelector("#checkout-close-button"),T=document.querySelector(".c-checkout"),A=document.querySelector("#main-cart-button"),$=document.querySelector(".cart__close-button"),M=document.querySelector(".cart"),q=document.createElement("p");z(N,T);w(X,T);w(A,M);z($,M);A.addEventListener("click",y);$.addEventListener("click",y);O.addEventListener("click",y);Q.addEventListener("click",y);N.addEventListener("click",()=>{M.classList.remove("--active"),document.body.classList.remove("stop-scroll")});K?.addEventListener("click",y);W?.addEventListener("click",y);G?.addEventListener("click",y);const Y=document.getElementById("modalButton");Y.addEventListener("click",ne);const ee=document.getElementById("product-page-cart-button");ee?.addEventListener("click",()=>{n.findIndex(t=>t.id===I.id)!==-1?(I.quantity++,u+=I.price,g(),h(),L()):(n.push(I),u+=I.price,g(),h(),L())});const te=()=>{for(let e=0;e<o.length;e++){const t=document.querySelector(".l-list"),c=document.createElement("li"),a=document.createElement("div"),r=document.createElement("div"),s=document.createElement("h2"),i=document.createElement("div"),d=document.createElement("img"),l=document.createElement("p"),m=document.createElement("p"),v=document.createElement("p"),f=document.createElement("div"),p=document.createElement("button");s.innerHTML=o[e].title,d.innerHTML=o[e].imageUrl,v.innerHTML=o[e].size,l.innerHTML=`${o[e].price.toString()} kr`,d.setAttribute("src",o[e].imageUrl),m.innerHTML="Art.nr: "+o[e].id,p.innerHTML="Lägg i varukorg",c.classList.add("l-list__item"),a.classList.add("c-card"),r.classList.add("c-card__header"),s.classList.add("c-card__title"),i.classList.add("c-card__body"),d.classList.add("c-card__image"),l.classList.add("c-card__price"),v.classList.add("c-card__attribute"),m.classList.add("c-card__text"),f.classList.add("c-card__footer"),p.classList.add("c-button","c-button--primary"),c.appendChild(d),a.appendChild(r),r.appendChild(s),a.appendChild(i),i.appendChild(v),i.appendChild(l),t?.appendChild(c),c.appendChild(a),a.appendChild(f),f.appendChild(p),p.addEventListener("click",()=>{n.findIndex(k=>k.id===o[e].id)!==-1?(o[e].quantity++,u+=o[e].price,g(),h(),L()):(n.push(o[e]),u+=o[e].price,g(),h(),L())});const E=()=>{const C=document.querySelector(".c-product-page"),k=document.getElementById("product-page-title"),P=document.getElementById("product-page-image"),b=document.getElementById("product-page-info"),B=document.getElementById("read-more"),H=document.getElementById("product-page-size"),j=document.getElementById("product-page-price"),S=document.getElementById("wrapper-product-page"),D=document.getElementById("product-page-close-button");I=o[e],S&&S.classList.add("--active"),C?.classList.add("--active"),k&&(k.innerHTML=o[e].title),P&&P.setAttribute("src",o[e].imageUrl),b&&(b.innerHTML=o[e].info),H&&(H.innerHTML="Storlek: "+o[e].size),j&&(j.innerHTML=o[e].price.toString()+" kr"),B?.addEventListener("click",()=>{b?.classList.contains("--active")?(b.classList.remove("--active"),B.innerHTML="Läs mer"):(b?.classList.add("--active"),B.innerHTML="Visa mindre")}),D?.addEventListener("click",()=>{S?.classList.remove("--active"),b?.classList.contains("--active")&&(b.classList.remove("--active"),B.innerHTML="Läs mer")})};d.addEventListener("click",E),r.addEventListener("click",E),i.addEventListener("click",E)}},g=()=>{sessionStorage.setItem("cartItems",JSON.stringify(n)),sessionStorage.setItem("totalPrice",JSON.stringify(u));const e=document.querySelector("#cart-items");q.innerHTML="Summa: "+u.toString()+" kr",e&&(e.innerHTML="");for(let t=0;t<n.length;t++){const c=document.createElement("li"),a=document.createElement("div"),r=document.createElement("div"),s=document.createElement("h3"),i=document.createElement("figure"),d=document.createElement("img"),l=document.createElement("div"),m=document.createElement("p"),v=document.createElement("p"),f=document.createElement("p"),p=document.createElement("div"),E=document.createElement("button"),C=document.createElement("span"),k=document.createElement("button");c.classList.add("l-list__item"),a.classList.add("c-card-cart"),r.classList.add("c-card__header"),i.classList.add("c-card-cart__figure"),d.classList.add("c-card-cart__image"),l.classList.add("c-card-cart__body"),m.classList.add("c-card__price"),v.classList.add("c-card__id"),f.classList.add("c-card__attribute"),p.classList.add("c-card-cart__footer"),s.innerHTML=n[t].title,d.setAttribute("src",n[t].imageUrl),m.innerHTML=n[t].price.toString()+" kr",f.innerHTML="Storlek: "+n[t].size,v.innerHTML="Art.nr: "+n[t].id,E.innerHTML="+",C.innerHTML=n[t].quantity.toString(),k.innerHTML="-",a.appendChild(i),i.appendChild(d),a.appendChild(l),l.appendChild(s),l.appendChild(m),l.appendChild(f),l.appendChild(v),a.appendChild(p),p.appendChild(k),p.appendChild(C),p.appendChild(E),c.appendChild(a),e?.appendChild(c),E.addEventListener("click",()=>{n[t].quantity++,u+=n[t].price,g(),h(),L()}),k.addEventListener("click",()=>{n[t].quantity===1?(u-=n[t].price,n.splice(t,1),g(),h(),L()):(n[t].quantity--,u-=n[t].price,g(),h(),L())})}document.querySelector(".cart__total-price")?.appendChild(q)},h=()=>{sessionStorage.setItem("cartItems",JSON.stringify(n)),sessionStorage.setItem("totalPrice",JSON.stringify(u));const e=document.querySelector("#checkout-cart-items");let t=document.getElementById("total-price-checkout");t&&(t.innerHTML="Summa: "+u.toString()+" kr"),e&&(e.innerHTML="");for(let c=0;c<n.length;c++){const a=document.createElement("li"),r=document.createElement("img"),s=document.createElement("div"),i=document.createElement("h3"),d=document.createElement("p"),l=document.createElement("p"),m=document.createElement("div"),v=document.createElement("button"),f=document.createElement("span"),p=document.createElement("button");i.innerHTML=n[c].title,r.setAttribute("src",n[c].imageUrl),d.innerHTML=n[c].price.toString()+" kr",v.innerHTML="+",f.innerHTML=n[c].quantity.toString(),p.innerHTML="-",l.innerHTML="Art.nr: "+n[c].id,a.classList.add("c-card-checkout"),s.classList.add("c-card-checkout__body"),m.classList.add("c-card-checkout__footer"),a.appendChild(r),s.appendChild(i),s.appendChild(d),s.appendChild(l),a.appendChild(s),m.appendChild(p),m.appendChild(f),m.appendChild(v),a.appendChild(m),e?.appendChild(a),v.addEventListener("click",()=>{n[c].quantity++,u+=n[c].price,g(),h(),L()}),p.addEventListener("click",()=>{n[c].quantity===1?(u-=n[c].price,n.splice(c,1),g(),h()):(n[c].quantity--,u-=n[c].price,g(),h())})}};function ne(e){e.preventDefault();const c=document.getElementById("email").value;J()&&ce(c)}function ce(e){const t=document.getElementById("purchaseModal");t.classList.add("--active");const c=document.createElement("div");c.classList.add("order-details-container");const a=t.querySelector(".modal-content");a.innerHTML=`
    <div class="checkmark">&#10003;</div>
    <i id="closeModalButton" class="bi bi-x-lg"></i>
    <h3>Ditt köp har genomförts!</h3>
    <p class="purchaseModalEmail">Betalningsinstruktioner kommer skickas till: ${e}</p>
    <h4>Orderdetaljer</h4>
  `;let r=0;for(let d=0;d<n.length;d++){const l=document.createElement("p");l.classList.add("order-details-item");const m=n[d].price*n[d].quantity;r+=m,l.innerHTML=`
      ${n[d].title} - ${m} kr <br> Antal: ${n[d].quantity}
    `,c.appendChild(l)}const s=document.createElement("p");s.innerHTML=`<br>Totalt belopp: ${r} kr`,c.appendChild(s),a.appendChild(c),document.getElementById("closeModalButton").addEventListener("click",()=>{t.classList.remove("--active"),u=0,n.splice(0,n.length),g(),h(),T.classList.remove("--active"),M.classList.remove("--active"),O.classList.remove("--active"),y(),window.scrollTo(0,0),setTimeout(()=>{location.reload()},1e3)})}const L=()=>{const e=document.getElementById("cart-icon");n.length!==0?(e?.classList.remove("bi-cart"),e?.classList.add("bi-cart-fill")):(e?.classList.remove("bi-cart-fill"),e?.classList.add("bi-cart"))};te();g();h();L();
